=<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì„±êµìœ¡ í€´ì¦ˆ</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
  <div id="quiz-container" class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
    <!-- Progress Bar with Rabbit -->
    <div class="mb-4">
      <div class="flex justify-between mb-2">
        <span>ë¬¸ì œ ì§„í–‰</span>
        <span id="progress-text">1/10</span>
      </div>
      <div class="relative h-4 bg-gray-200 rounded-full">
        <div id="progress-bar" class="absolute h-full bg-green-500 rounded-full" style="width: 10%"></div>
        <div id="rabbit" class="absolute w-8 h-8 text-3xl" style="left: 0%; top: -12px;">ğŸ°</div>
      </div>
    </div>

    <!-- Question and Options -->
    <div id="question" class="text-lg font-semibold mb-4"></div>
    <div id="options" class="space-y-2"></div>
    <textarea id="text-answer" class="w-full p-2 border rounded mt-4 hidden" placeholder="ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
    <div id="feedback" class="mt-4 text-center font-medium"></div>
    <button id="next-btn" class="mt-4 w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 hidden">ë‹¤ìŒ</button>
  </div>

  <script>
    const questions = [
      {
        question: "ì„± ìƒí’ˆí™”ë€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ë‚˜ìš”?",
        options: [
          "A. ì‚¬ëŒì˜ ê°ì •ì„ ìƒí’ˆì²˜ëŸ¼ íŒŒëŠ” ê²ƒ",
          "B. ì¸ê°„ì˜ ì„±ì„ ìƒí’ˆì²˜ëŸ¼ ì´ìš©í•˜ì—¬ ëˆì„ ë²„ëŠ” ê²ƒ",
          "C. ì¹œêµ¬ë¥¼ ë§ì´ ì‚¬ê·€ëŠ” ê²ƒ",
          "D. ìš´ë™ì„ ì—´ì‹¬íˆ í•˜ëŠ” ê²ƒ"
        ],
        answer: "B",
        type: "multiple"
      },
      {
        question: "ì„± ìƒí’ˆí™”ì˜ ëŒ€ìƒì€ ì£¼ë¡œ ëˆ„êµ¬ì¸ê°€ìš”?",
        options: [
          "A. ì–´ë¦°ì´ë§Œ",
          "B. ë‚¨ì„±ë§Œ",
          "C. ì—¬ì„±ë§Œ",
          "D. ì—¬ì„±ë¿ë§Œ ì•„ë‹ˆë¼ ë‚¨ì„±ë„ ëŒ€ìƒì´ ëœë‹¤"
        ],
        answer: "D",
        type: "multiple"
      },
      {
        question: "ìŒë€ë¬¼ì´ ìœ„í—˜í•œ ì´ìœ ë¡œ ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
        options: [
          "A. í˜„ì‹¤ê³¼ ë‹¤ë¥¸ ë‚´ìš©ì„ ì™œê³¡í•´ì„œ ë³´ì—¬ì¤€ë‹¤",
          "B. ë” ìê·¹ì ì¸ ê²ƒì„ ì›í•˜ê²Œ ë§Œë“ ë‹¤",
          "C. ê³µë¶€ì— ë„ì›€ì´ ëœë‹¤",
          "D. ì˜ëª»ëœ ì„± ì§€ì‹ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤"
        ],
        answer: "C",
        type: "multiple"
      },
      {
        question: "ìŒë€ë¬¼ì„ ìì£¼ ë³´ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‚˜ìš”?",
        options: [
          "A. ìš´ë™ ëŠ¥ë ¥ì´ ì¢‹ì•„ì§„ë‹¤",
          "B. ì„±ì ì¸ ìê·¹ì— ë¬´ê°ê°í•´ì§„ë‹¤",
          "C. ì„± í‘œí˜„ë¬¼ì„ ì¼ë°˜ì ì¸ ê²ƒìœ¼ë¡œ ì°©ê°í•˜ê²Œ ëœë‹¤",
          "D. ì¹œêµ¬ì™€ ë” ì¹œí•´ì§„ë‹¤"
        ],
        answer: "C",
        type: "multiple"
      },
      {
        question: "ëŒ€ì¤‘ ë§¤ì²´ì— ë‚˜ì˜¤ëŠ” ì™œê³¡ëœ ì„± í‘œí˜„ë¬¼ì€ ìš°ë¦¬ì—ê²Œ ì–´ë–¤ ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‚˜ìš”?",
        options: [
          "A. ì •í™•í•œ ì„± ì§€ì‹ì„ ì•Œë ¤ì¤€ë‹¤",
          "B. ì‚¬ëŒì„ ì„±ì ì¸ ëŒ€ìƒìœ¼ë¡œë§Œ ë³´ê²Œ í•  ìˆ˜ ìˆë‹¤",
          "C. ì˜ˆì ˆì„ ì˜ ê°€ë¥´ì³ ì¤€ë‹¤",
          "D. ë‹¤ì´ì–´íŠ¸ë¥¼ ê±´ê°•í•˜ê²Œ í•˜ê²Œ ë§Œë“ ë‹¤"
        ],
        answer: "B",
        type: "multiple"
      },
      {
        question: "ìŒë€ë¬¼ì„ ì ‘í–ˆì„ ë•Œ ì ì ˆí•œ ëŒ€ì²˜ ë°©ë²•ì€ ë¬´ì—‡ì¸ê°€ìš”?",
        options: [
          "A. ì¹œêµ¬ì™€ í•¨ê»˜ ë³¸ë‹¤",
          "B. í˜¼ì ê³„ì† ë³¸ë‹¤",
          "C. ì–´ë¥¸ì´ë‚˜ ì„ ìƒë‹˜ê»˜ ë§í•˜ê³  ë„ì›€ì„ ìš”ì²­í•œë‹¤",
          "D. ì•„ë¬´ì—ê²Œë„ ë§í•˜ì§€ ì•Šê³  ìˆ¨ê¸´ë‹¤"
        ],
        answer: "C",
        type: "multiple"
      },
      {
        question: "ì„± í‘œí˜„ë¬¼ì´ ìê·¹ì ìœ¼ë¡œ ë³´ì´ê²Œ ë§Œë“œëŠ” ëª©ì ì€ ë¬´ì—‡ì¸ê°€ìš”?",
        options: [
          "A. ê±´ê°•ì„ ìœ„í•´",
          "B. ì›ƒìŒì„ ì£¼ê¸° ìœ„í•´",
          "C. íŒë§¤ë‚˜ ì¡°íšŒìˆ˜ë¥¼ ëŠ˜ë ¤ ëˆì„ ë²Œê¸° ìœ„í•´",
          "D. êµìœ¡ì„ ìœ„í•´"
        ],
        answer: "C",
        type: "multiple"
      },
      {
        question: "ì•„ë˜ ì¤‘ ìŒë€ë¬¼ì— í•´ë‹¹í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
        options: [
          "A. ìì—° ë‹¤íë©˜í„°ë¦¬",
          "B. ì¹œêµ¬ë“¤ê³¼ì˜ ìš´ë™ ì‚¬ì§„",
          "C. ì„±ê¸°ì™€ ì„±í–‰ìœ„ë§Œì„ ê°•ì¡°í•œ ì˜ìƒ",
          "D. ë™ë¬¼ êµ¬ì¡° ë‰´ìŠ¤"
        ],
        answer: "C",
        type: "multiple"
      },
      {
        question: "ì„± ìƒí’ˆí™”ê°€ ì™œ ë¬¸ì œë¼ê³  ìƒê°í•˜ë‚˜ìš”?",
        type: "text"
      },
      {
        question: "ì™œê³¡ëœ ì„± í‘œí˜„ë¬¼ì´ë‚˜ ìŒë€ë¬¼ì´ ê³„ì† ë§Œë“¤ì–´ì§€ê³  ì†Œë¹„ë˜ë©´ ìš°ë¦¬ ì‚¬íšŒì— ì–´ë–¤ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆì„ê¹Œìš”?",
        type: "text"
      }
    ];

    let currentQuestion = 0;
    let correctAnswers = 0;
    let incorrectAnswers = 0;
    let userAnswers = [];

    const question9CorrectWords = [
      "ì‚¬ëŒ", "ë¬¼ê±´", "ì„±ì ìœ¼ë¡œ", "ì˜ëª»ëœ", "ìƒê°", "ì†Œì¤‘í•¨", "ë¬´ì‹œ", "ëˆ", "ì´ìš©",
      "ë‚¨ì", "ì—¬ì", "ì™¸ëª¨", "í‰ê°€", "ì´ìƒí•œ", "í–‰ë™", "ì–´ë¦°ì´", "ì²­ì†Œë…„", "ë‚˜ìœ",
      "ì˜í–¥", "ê´‘ê³ ", "ì˜ìƒ", "ìê·¹ì ", "ì´ë¯¸ì§€", "ìµìˆ™", "ì¤‘ìš”", "ìì¡´ê°"
    ];
    const question10CorrectWords = [
      "ì‚¬ëŒ", "ì„±ì ì¸", "ëˆˆ", "ë‚˜ìœ", "í–‰ë™", "ì˜ëª»ëœ", "ì§€ì‹", "ì§„ì§œ", "ê´€ê³„",
      "ë¬¸ì œ", "ì™¸ëª¨", "ì¤‘ìš”", "ë‹¤ì´ì–´íŠ¸", "ì„±í˜•", "ì§‘ì°©", "ìŒë€ë¬¼", "ìƒì²˜", "ì¡´ì¤‘",
      "ìœ„í—˜í•œ", "ìê·¹ì ", "ì´ìƒí•œ", "ë‚´ìš©", "ë‹¹ì—°", "ì°©ê°", "ì„±í­ë ¥", "ë²”ì£„"
    ];

    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const textAnswerEl = document.getElementById("text-answer");
    const feedbackEl = document.getElementById("feedback");
    const nextBtn = document.getElementById("next-btn");
    const progressBar = document.getElementById("progress-bar");
    const rabbit = document.getElementById("rabbit");
    const progressText = document.getElementById("progress-text");

    function evaluateTextAnswer(questionIndex, userAnswer) {
      const answer = userAnswer.toLowerCase().trim();
      const correctWords = questionIndex === 8 ? question9CorrectWords : question10CorrectWords;
      return correctWords.some(word => answer.includes(word));
    }

    function loadQuestion() {
      const q = questions[currentQuestion];
      questionEl.textContent = `${currentQuestion + 1}. ${q.question}`;
      progressText.textContent = `${currentQuestion + 1}/10`;
      progressBar.style.width = `${(currentQuestion + 1) * 10}%`;
      rabbit.style.left = `${currentQuestion * 10}%`;

      optionsEl.innerHTML = "";
      textAnswerEl.classList.add("hidden");
      textAnswerEl.value = ""; // Clear textarea for new question
      textAnswerEl.disabled = false; // Enable textarea
      nextBtn.classList.add("hidden");
      feedbackEl.textContent = "";

      if (q.type === "multiple") {
        q.options.forEach((option, index) => {
          const btn = document.createElement("button");
          btn.className = "w-full p-2 border rounded text-left hover:bg-gray-100";
          btn.textContent = option;
          btn.onclick = () => checkAnswer(option.charAt(0));
          optionsEl.appendChild(btn);
        });
      } else {
        textAnswerEl.classList.remove("hidden"); // Show textarea for text questions
        textAnswerEl.focus(); // Focus the textarea for immediate input
        console.log(`Textarea for question ${currentQuestion + 1} - Visible: ${!textAnswerEl.classList.contains("hidden")}, Disabled: ${textAnswerEl.disabled}`);
        const submitBtn = document.createElement("button");
        submitBtn.className = "w-full p-2 bg-green-500 text-white rounded mt-2 hover:bg-green-600";
        submitBtn.textContent = "ì œì¶œ";
        submitBtn.onclick = submitTextAnswer;
        optionsEl.appendChild(submitBtn);
      }
    }

    function checkAnswer(selected) {
      const q = questions[currentQuestion];
      userAnswers[currentQuestion] = selected;
      if (selected === q.answer) {
        feedbackEl.textContent = "ì •ë‹µì´ë‹¤!";
        feedbackEl.className = "mt-4 text-center font-medium text-green-600";
        correctAnswers++;
      } else {
        feedbackEl.textContent = "ì˜¤ë‹µì…ë‹ˆë‹¤.";
        feedbackEl.className = "mt-4 text-center font-medium text-red-600";
        incorrectAnswers++;
      }
      nextBtn.classList.remove("hidden");
      disableOptions();
    }

    function submitTextAnswer() {
      const userAnswer = textAnswerEl.value;
      userAnswers[currentQuestion] = userAnswer;
      if (evaluateTextAnswer(currentQuestion, userAnswer)) {
        feedbackEl.textContent = "ì •ë‹µì´ë‹¤!";
        feedbackEl.className = "mt-4 text-center font-medium text-green-600";
        correctAnswers++;
      } else {
        feedbackEl.textContent = "ì˜¤ë‹µì…ë‹ˆë‹¤.";
        feedbackEl.className = "mt-4 text-center font-medium text-red-600";
        incorrectAnswers++;
      }
      nextBtn.classList.remove("hidden");
      textAnswerEl.disabled = true;
      optionsEl.querySelector("button").disabled = true;
    }

    function disableOptions() {
      optionsEl.querySelectorAll("button").forEach(btn => btn.disabled = true);
    }

    function showResults() {
      const container = document.getElementById("quiz-container");
      container.innerHTML = `
        <h2 class="text-2xl font-bold mb-4">ëª¨ë‘ í’€ì—ˆìŠµë‹ˆë‹¤. ì„±ê³µ!</h2>
        <p class="mb-2">ì •ë‹µ ê°œìˆ˜: ${correctAnswers}</p>
        <p class="mb-4">ì˜¤ë‹µ ê°œìˆ˜: ${incorrectAnswers}</p>
        <h3 class="text-xl font-semibold mb-2">ë¬¸ì œì™€ ë‹µë³€</h3>
        <div class="space-y-4">
          ${questions.map((q, i) => `
            <div>
              <p class="font-medium">${i + 1}. ${q.question}</p>
              ${q.type === "multiple" ? `
                <p>ì •ë‹µ: ${q.answer}</p>
                <p>ë‹¹ì‹ ì˜ ë‹µë³€: ${userAnswers[i] || "ì—†ìŒ"}</p>
              ` : `
                <p>ê²°ê³¼: ${evaluateTextAnswer(i, userAnswers[i]) ? "ì •ë‹µ" : "ì˜¤ë‹µ"}</p>
                <p>ë‹¹ì‹ ì˜ ë‹µë³€: ${userAnswers[i] || "ì—†ìŒ"}</p>
              `}
            </div>
          `).join("")}
        </div>
      `;
    }

    nextBtn.onclick = () => {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        loadQuestion();
      } else {
        showResults();
      }
    };

    loadQuestion();
  </script>
</body>
</html>
